# Backend-сервис для интернет-магазина мерча

## Описание

Этот проект представляет собой **backend-сервис** для интернет-магазина, специализирующегося на продаже мерча музыкальных групп. Сервис разработан с использованием фреймворка **NestJS** и базы данных **PostgreSQL**, управляемой через **Prisma ORM**. Основной функционал включает в себя управление пользователями, товарами, концертами и объектным хранилищем для изображений.

> **Важно**: Это приложение не предназначено для использования в продакшене. Оно служит демонстрацией навыков разработчика в рамках курсовой работы и не поддерживает загрузку новых товаров и концертов.

## Основные функции

1. **Управление пользователями**: Регистрация, аутентификация и обновление данных пользователей.
2. **Управление товарами**: Получение информации о товарах, таких как футболки и кепки.
3. **Управление концертами**: Получение информации о концертах.
4. **Объектное хранилище**: Загрузка и получение изображений товаров и концертов.
5. **Рекомендации**: Предоставление рекомендаций по товарам на основе случайного выбора.

P.S. создание всего контента (товаров, концертов, пользователей, картинок в S3) через сиды для БД.

## Используемые технологии

- **NestJS**: Фреймворк для создания серверных приложений на Node.js.
- **Prisma ORM**: ORM для работы с базой данных PostgreSQL.
- **PostgreSQL**: Реляционная база данных.
- **S3-совместимое хранилище**: Для хранения изображений (например, AWS S3 или Timeweb Cloud).
- **JWT**: Для аутентификации и авторизации пользователей.

## Перед установкой

Перед началом установки убедитесь, что у вас установлены следующие компоненты:

- **Node.js**: Убедитесь, что у вас установлена последняя версия Node.js.
- **PostgreSQL**: Установите и настройте PostgreSQL сервер.
- **S3-совместимое хранилище**: Настройте S3-совместимое хранилище, такое как AWS S3 или Timeweb Cloud, для хранения изображений.
- **Git**: Убедитесь, что у вас установлен Git для клонирования репозитория.

## Установка и запуск

1. Клонируйте репозиторий.
2. Установите зависимости с помощью команды `npm install`.
3. Настройте переменные окружения в файле `.env`:
   - `DATABASE_URL`
   - `ACCESS_SECRET`
   - `REFRESH_SECRET`
   - `PORT`
   - `S3_SECRET_ACCESS_KEY`
   - `S3_ACCESS_KEY_ID`
   - `S3_BUCKET`
   - `REGION`
   - `S3_ENDPOINT`
4. Запустите миграции базы данных с помощью Prisma:
   ```bash
   npx prisma migrate deploy
   ```
5. Сделайте сиды для БД:
   ```bash
   npx prisma db seed
   ```
6. Соберите проект с помощью команды `npm run build`.
7. Запустите сервер с помощью команды `npm run start:prod`.

## Возможные ошибки и их причины

В процессе разработки проекта, учитывая сжатые сроки и минимальные требования к функционалу, могли быть допущены следующие ошибки:

1. **Отсутствие тестов**: Из-за ограниченного времени не были реализованы тесты, что может привести к неустойчивости приложения при изменениях.
2. **Минимальная обработка ошибок**: В некоторых местах обработка ошибок может быть недостаточной, что может привести к некорректной работе приложения.
3. **Отсутствие документации**: Документация к API может быть неполной, что затрудняет интеграцию с другими системами.
4. **Оптимизация производительности**: Некоторые части кода могут быть не оптимизированы, что может повлиять на производительность при увеличении нагрузки.

## Заключение

Этот проект был выполнен в рамках **заказной курсовой работы**. Основной акцент был сделан на минимально необходимом функционале, чтобы уложиться в установленные сроки. Проект может служить хорошей основой для дальнейшего расширения и улучшения функционала заказчиком.
